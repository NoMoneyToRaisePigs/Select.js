function initSelect(o,e){var t,d,n,r,a,i=0,p=[],l=[],s=[],c=document.getElementById(o);if(!c)throw console.log("shit! no such element with id {"+o+"}.");c.classList.add("select-box-container");var b,x,u,g,h,w,m,f,v=function(o){var e=document.createElement("div"),t=document.createElement("span"),d=document.createTextNode(o.selectPlaceholder);t.classList.add("select-box-text"),e.classList.add("collapsed"),e.classList.add("select-box"),t.appendChild(d),o.multi&&e.appendChild((n=document.createElement("span"),a=document.createTextNode("0"),n.classList.add("selected-number"),n.appendChild(a),r=n,n));var n,a;return e.appendChild(t),e}(t=e),y=((b=document.createElement("div")).classList.add("dropdown-box"),b);t.searchable&&(m=document.createElement("div"),f=document.createElement("input"),m.classList.add("dropdown-search-box"),f.setAttribute("type","text"),f.setAttribute("placeholder","Type to search ..."),m.appendChild(f),a=f,x=m,g=document.createElement("div"),h=document.createElement("span"),w=document.createTextNode("No matching options."),g.classList.add("dropdown-none-matching-box"),h.appendChild(w),g.appendChild(h),u=g);var L,k,C,E,z,N,I,T=((L=document.createElement("div")).classList.add("dropdown-list-box"),L);t.multi&&(C=document.createElement("div"),E=document.createElement("button"),z=document.createElement("button"),N=document.createTextNode("select all"),I=document.createTextNode("select none"),C.classList.add("dropdown-select-btn-wrapper"),E.classList.add("dropdown-select-btn"),E.classList.add("btn"),E.classList.add("all"),z.classList.add("dropdown-select-btn"),z.classList.add("btn"),z.classList.add("none"),E.appendChild(N),z.appendChild(I),C.appendChild(E),C.appendChild(z),k=C);var _=function(o){for(var e=[],t=0;t<o.data.length;t++){var r=t,a=o.data[t],s=document.createElement("ul");s.classList.add("group-wrapper");var c=x(o,r);p.push({groupIndex:r,group:c,options:[]});var b=u(a,r,o.multi);s.appendChild(c),b.forEach(function(o){s.appendChild(o)}),i+=b.length,e.push(s)}return A(),e;function x(o,e){var t,d,n,a,i,p=document.createElement("li"),l=document.createElement("b"),s=document.createTextNode(o.data[e].title);return p.setAttribute("data-value",r+"_*"),p.classList.add("group-title"),l.appendChild(s),p.appendChild(l),o.multi&&p.appendChild((t=document.createElement("div"),d=document.createElement("button"),n=document.createElement("button"),a=document.createTextNode("all"),i=document.createTextNode("none"),d.setAttribute("data-name","group_"+r+"_all_btn"),n.setAttribute("data-name","group_"+r+"_none_btn"),d.classList.add("group-select-btn"),d.classList.add("btn"),d.classList.add("all"),n.classList.add("group-select-btn"),n.classList.add("btn"),n.classList.add("none"),d.appendChild(a),n.appendChild(i),t.appendChild(d),t.appendChild(n),t)),p}function u(o,e,t){for(var r=[],a=0;a<o.options.length;a++){var i=a,s=o.options[i],c=document.createElement("li"),b=document.createTextNode(s.display);c.setAttribute("data-value",e+"_"+i),c.classList.add("option"),c.appendChild(b),s.disabled?c.classList.add("disabled"):c.classList.add("available"),t?c.classList.add("multi"):c.classList.add("single"),s.selected&&!s.disabled&&(c.classList.add("selected"),n=s,d=c,l.push(s.value)),p[e].options.push({optionIndex:i,option:c}),r.push(c)}return r}}(t);function A(){r&&(r.innerText=l.length)}t.multi&&T.appendChild(k),_.forEach(function(o){T.appendChild(o)}),t.searchable&&(y.appendChild(x),y.appendChild(u)),y.appendChild(T),function(o,e){o.onclick=function(t){!function(){e.style.top="auto",e.style.bottom="auto";var t=o.getBoundingClientRect(),d=window.innerHeight,n=t.top,r=d-t.top-(t.bottom-t.top);n>300&&r>300?e.style.top="100%":n>300?e.style.bottom="100%":r>300&&(e.style.top="100%");n<300&r<300&&(e.style.top="100%",dropdownListBox.style.maxHeight=r-10+"px")}(),o.classList.remove("collapsed"),o.classList.add("expanded"),e.classList.add("show"),t.stopPropagation(),document.body.addEventListener("click",function t(d){d.target==e||e.contains(d.target)||(o.classList.remove("expanded"),o.classList.add("collapsed"),e.classList.remove("show"),document.body.removeEventListener("click",t))})}}(v,y),t.searchable&&(a.onkeyup=function(o){var e;s=[];var t=this.value.toLowerCase(),d=i;p.forEach(function(o,n){var r=o.options.length;e={groupIndex:n,group:o.group,options:[]},o.options.forEach(function(o,n){-1!=o.option.innerText.toLowerCase().indexOf(t)?(o.option.style.display="list-item",e.options.push({optionIndex:n,option:o.option})):(o.option.style.display="none",r--,d--)}),o.group.style.display=r?"flex":"none",r&&s.push(e)}),d?(u.style.display="none",T.style.display="block"):(u.style.display="block",T.style.display="none")}),function(o,t){function r(o,e,t,d){if(void 0!=t){for(var n,r=0;r<e.length;r++)if(e[r].groupIndex==t){n=e[r];break}if(!n)throw console.log("selectBtnAction error");n.options.forEach(function(e){d?(a(o.data[n.groupIndex].options[e.optionIndex]),e.option.classList.add("selected")):(i(o.data[t].options[e.optionIndex]),e.option.classList.remove("selected"))})}else e.forEach(function(e){e.options.forEach(function(t){d?(a(o.data[e.groupIndex].options[t.optionIndex]),t.option.classList.add("selected")):(i(o.data[e.groupIndex].options[t.optionIndex]),t.option.classList.remove("selected"))})})}function a(o){o.selected||o.disabled||(l.push(o.value),o.selected=!0)}function i(o){o.selected&&!o.disabled&&(l.splice(l.indexOf(o.value),1),o.selected=!1)}o.onclick=function(o){var a,i=o.target.classList;if(i.contains("option")&&!i.contains("disabled")){var c=o.target.getAttribute("data-value").split("_"),b=Number(c[0]),x=Number(c[1]),u=t.data[b].options[x];e.multi?((a=u).selected?l.splice(l.indexOf(a.value),1):l.push(a.value),A(),i.toggle("selected"),u.selected=!u.selected,console.log(l)):(d.classList.remove("selected"),(d=o.target).classList.add("selected"),n.selected=!1,(n=u).selected=!0,console.log(n.value))}if(t.multi&&i.contains("btn")){if(i.contains("all")){if(i.contains("dropdown-select-btn"))s.length?r(t,s,void 0,!0):r(t,p,void 0,!0);else if(i.contains("group-select-btn")){var g=Number(o.target.getAttribute("data-name").split("_")[1]);s.length?r(t,s,g,!0):r(t,p,g,!0)}}else if(i.contains("none"))if(i.contains("dropdown-select-btn"))s.length?r(t,s,void 0,!1):r(t,p,void 0,!1);else if(i.contains("group-select-btn")){var g=Number(o.target.getAttribute("data-name").split("_")[1]);s.length?r(t,s,g,!1):r(t,p,g,!1)}console.log(l)}o.stopPropagation()}}(T,t),c.appendChild(v),c.appendChild(y)}!function(){var o=document.createElement("style");o.innerHTML='*,.dropdown-box{box-sizing:border-box}*{font-family:"Source Sans Pro","Segoe UI","Open Sans",Calibri,sans-serif}.select-box-container{position:relative;width:250px}.select-box{cursor:pointer;border:1px solid rgba(0,0,0,.3);border-radius:3px;padding:5px 24px 5px 10px;color:#707478;font-size:12px;line-height:22px}.select-box:hover{border-color:#3C82E6;box-shadow:0 1px 2px 2px rgba(0,0,0,.06)}.select-box::after{position:absolute;right:10px;top:calc(50% - 2px);display:inline-block;content:"";height:0;width:0;background-color:transparent;border-top:6px solid #707478;border-left:6px solid transparent;border-right:6px solid transparent;transition:transform .2s ease-in-out}.expanded.select-box:after{transform:rotateZ(180deg)}.select-box .selected-number{padding-right:5px;font-size:15px;border-right:1px solid #707478}.select-box .select-box-text{padding-left:5px}.select-box:hover .select-box-text{color:rgba(0,0,0,.8)}.dropdown-box{position:absolute;left:0;width:100%;background-color:#fff;z-index:1;visibility:hidden;max-height:0;overflow:hidden}.dropdown-box.show{max-height:1000px;border:1px solid rgba(0,0,0,.3);border-radius:3px;visibility:visible;transition:max-height .2s linear}.dropdown-box .dropdown-search-box{position:relative;width:100%;border-bottom:1px solid rgba(0,0,0,.2);box-shadow:0 1px 1px 0 rgba(0,0,0,.075);line-height:32px}.dropdown-box .dropdown-search-box::after,.dropdown-box .dropdown-search-box::before{position:absolute;display:inline-block;background-color:transparent;content:"";box-sizing:border-box}.dropdown-box .dropdown-search-box::before{top:calc(50% - 8px);left:8px;height:12px;width:12px;border:1.5px solid rgba(0,0,0,.2);border-radius:50%}.dropdown-box .dropdown-search-box::after{top:calc(50% + 4px);left:13px;height:6px;width:2px;border-bottom:6px solid rgba(0,0,0,.2);border-bottom-left-radius:1px;border-bottom-right-radius:1px;transform:translateX(5px) translateY(-1px) rotate(-30deg)}.dropdown-box .dropdown-search-box input{width:100%;line-height:20px;border:none;outline:0;margin:0;padding:5px 28px;font-size:12px;box-sizing:border-box}.dropdown-box .dropdown-none-matching-box{display:none;width:100%;padding:20px;text-align:center;border-bottom:1px solid rgb(0,0,0,.3);box-sizing:border-box}.dropdown-box .dropdown-none-matching-box span{font-size:12px;color:#707478}.dropdown-box .dropdown-list-box{max-height:300px;overflow-y:scroll}.dropdown-box .dropdown-list-box::-webkit-scrollbar{width:5px}.dropdown-box .dropdown-list-box::-webkit-scrollbar-track{background:#f1f1f1}.dropdown-box .dropdown-list-box::-webkit-scrollbar-thumb{background:rgba(0,0,0,.3)}.dropdown-box .dropdown-list-box::-webkit-scrollbar-thumb:hover{background:rgba(0,0,0,.4)}.dropdown-box .dropdown-list-box .group-wrapper{font-size:12px;margin:0;padding:10px 0 0;list-style:none}.dropdown-box .dropdown-list-box .group-wrapper .group-title{position:relative;display:flex;justify-content:space-between;line-height:20px;padding:5px 10px 8px}.dropdown-box .dropdown-list-box .group-wrapper .group-title b{font-size:14px}.dropdown-box .dropdown-list-box .btn{background-color:transparent;border:1px solid #707478;border-radius:3px;cursor:pointer;color:#707478;line-height:normal}.dropdown-box .dropdown-list-box .all:hover{border-color:#28a745;color:#28a745}.dropdown-box .dropdown-list-box .none:hover{border-color:#dc3545;color:#dc3545}.dropdown-box .dropdown-list-box .dropdown-select-btn-wrapper{width:100%;text-align:center;line-height:38px;border-bottom:1px solid rgba(0,0,0,.2);box-shadow:0 1px 1px 0 rgba(0,0,0,.075)}.dropdown-box .dropdown-list-box .dropdown-select-btn-wrapper .dropdown-select-btn{font-size:12px;margin:0 6px}.dropdown-box .dropdown-list-box .group-wrapper .group-select-btn{margin:0 4px;font-size:10px}.dropdown-box .dropdown-list-box .group-wrapper .option{padding:5px 5px 5px 30px;line-height:20px;position:relative;cursor:pointer}.dropdown-box .dropdown-list-box .group-wrapper .option:hover{background-color:#e0e0e0}.dropdown-box .dropdown-list-box .group-wrapper .option.disabled{cursor:not-allowed;background-color:rgba(0,0,0,.1);color:rgba(0,0,0,.4)}.dropdown-box .dropdown-list-box .group-wrapper .option::after,.dropdown-box .dropdown-list-box .group-wrapper .option::before{position:absolute;display:inline-block;left:12px;content:"";box-sizing:border-box}.dropdown-box .dropdown-list-box .group-wrapper .disabled.option::before{left:9px;top:calc(50% - 6px);width:11px;height:11px;border-radius:50%;border:1px solid rgba(0,0,0,.4);box-sizing:border-box}.dropdown-box .dropdown-list-box .group-wrapper .disabled.option::after{left:10px;top:calc(50% - 6px - 1px + 1px + 5px);width:9px;height:1px;background-color:rgba(0,0,0,.4);transform:rotateZ(-45deg)}.dropdown-box .dropdown-list-box .group-wrapper .available.single.option::before{display:none;left:10px;top:calc(50% - 4px);width:9px;height:6px;border-left:1.5px solid #707478;border-bottom:1.5px solid #707478;border-radius:.5px;transform:rotateZ(-45deg)}.dropdown-box .dropdown-list-box .group-wrapper .available.single.selected.option::before{display:inline-block;border-color:rgba(0,0,0,.8)}.dropdown-box .dropdown-list-box .group-wrapper .available.single.option:hover:before{display:inline-block}.dropdown-box .dropdown-list-box .group-wrapper .available.multi.option::after,.dropdown-box .dropdown-list-box .group-wrapper .available.multi.option::before{display:none;left:13px;top:calc(50% - 6px);width:2px;height:10px;background-color:#707478}.dropdown-box .dropdown-list-box .group-wrapper .available.multi.option::after{transform:rotateZ(90deg)}.dropdown-box .dropdown-list-box .group-wrapper .available.multi.option:hover:after,.dropdown-box .dropdown-list-box .group-wrapper .available.multi.option:hover:before{display:inline-block}.dropdown-box .dropdown-list-box .group-wrapper .available.multi.option.selected::before{display:inline-block;left:9px;top:calc(50% - 6px);width:12px;height:12px;border:1px solid rgba(0,0,0,.8);background-color:transparent}.dropdown-box .dropdown-list-box .group-wrapper .available.multi.option.selected::after{display:inline-block;left:12px;top:calc(50% - 6px + 3px);width:6px;height:6px;border-radius:50%;background-color:rgba(0,0,0,.8);transform:none}.dropdown-box .dropdown-list-box .group-wrapper .available.multi.option.selected:hover:after{left:11px;top:calc(50% - 6px + 5px);width:8px;height:2px;border:none;background-color:rgba(0,0,0,.8);transform:none}#triangle{display:inline-block;height:0;width:0;background-color:transparent;border-bottom:10px solid #663399;border-left:10px solid transparent;border-right:10px solid transparent;transition:transform 1s linear}#triangle.ani{transform:rotateZ(180deg)}',document.getElementsByTagName("head")[0].appendChild(o)}();